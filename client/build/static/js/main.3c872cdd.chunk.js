(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},120:function(e,t,n){},128:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},171:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),i=n(27),o=n.n(i),s=(n(85),n(3)),l=n(4),d=n(8),u=n(6),j=(n(86),n(87),function(e){var t=e.isAuthenticated;return Object(c.jsxs)("div",{className:"navbar",children:[Object(c.jsx)("div",{className:"nav-left",children:Object(c.jsx)(d.b,{to:"/",children:Object(c.jsx)("img",{className:"logo",src:"/auxion_logo3.png",alt:"logo"})})}),Object(c.jsx)("div",{className:"list-area",children:Object(c.jsx)(d.b,{to:"/listproperty",children:Object(c.jsxs)("div",{className:"list-text",children:["CLICK &",Object(c.jsx)("br",{})," LIST"]})})}),Object(c.jsx)("div",{className:"about",children:Object(c.jsx)(d.b,{to:"/about",children:"ABOUT"})}),t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{children:Object(c.jsx)(d.b,{to:"/profile",children:"PROFILE"})}),Object(c.jsx)("div",{children:Object(c.jsx)(d.b,{to:"/logout",children:"LOGOUT"})})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{children:Object(c.jsx)(d.b,{to:"/register",children:"REGISTER"})}),Object(c.jsx)("div",{children:Object(c.jsx)(d.b,{to:"/Login",children:"LOGIN"})})]})]})}),b=n(7),h=n.n(b),p=n(12),O=n(16),m={email:"",password:""},x=Object(u.g)((function(e){var t=Object(a.useState)(m),n=Object(l.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(!1),d=Object(l.a)(o,2),u=(d[0],d[1]),j=e.history,b=new URLSearchParams(j.location.search).get("from"),x=r.email,f=r.password,g=function(e){var t=e.target,n=t.name,c=t.value;i((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(O.a)({},n,c))})),u(x&&f&&Boolean(c))},v=function(){var t=Object(p.a)(h.a.mark((function t(n){var c,a,o,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),u(!1),console.log(r),t.next=5,fetch("".concat("http://axn.herokuapp.com/","/login"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 5:if(c=t.sent,console.log("RESPONSE ***** ",c),!c.ok){t.next=20;break}return t.next=10,c.json();case 10:a=t.sent,console.log("USER >>>>>",a),o=a.token,s=a._id,localStorage.setItem("accessToken",o),localStorage.setItem("userId",s),e.handleAuth(!0),i({email:"",password:""}),j&&j.push(b?"properties/".concat(b):"/profile"),t.next=21;break;case 20:alert("Login failed");case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.jsxs)("form",{className:"sign-in",onSubmit:v,children:[Object(c.jsx)("div",{className:"field",style:{width:"100%"},children:Object(c.jsxs)("label",{children:["email",Object(c.jsx)("input",{name:"email",type:"email",value:r.email,onChange:g,required:!0,style:{width:"100%",letterSpacing:".2rem",height:"2rem",border:"none",borderBottom:"1px solid grey"}})]})}),Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{children:"password"}),Object(c.jsx)("input",{name:"password",type:"password",value:r.password,onChange:g,required:!0,style:{width:"100%",letterSpacing:".3rem",height:"2rem",border:"none",borderBottom:"1px solid grey"}})]}),Object(c.jsx)("button",{children:"Log in"})]})})),f={name:"",email:"",password:""},g=function(e){var t=Object(a.useState)(f),n=Object(l.a)(t,2),r=n[0],i=n[1],o=Object(u.f)(),d=function(e){var t=e.target,n=t.name,c=t.value;i((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(O.a)({},n,c))}))},j=function(){var t=Object(p.a)(h.a.mark((function t(n){var c,a,s,l,d,u,j,b,p;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=r.name,a=r.email,s=r.password,l={name:c,email:a,password:s},console.log("USER FROM INPUT FORM IS..",l),t.next=6,fetch("".concat("http://axn.herokuapp.com/","/register"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});case 6:if(d=t.sent,i(f),d.ok){t.next=15;break}return t.next=11,d.text();case 11:u=t.sent,alert(u),t.next=23;break;case 15:return t.next=17,d.json();case 17:j=t.sent,b=j.token,p=j._id,localStorage.setItem("accessToken",b),localStorage.setItem("userId",p),e.handleAuth(!0),o.push("/");case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"register",children:[Object(c.jsx)("h2",{children:"I do not have an account"}),Object(c.jsx)("span",{children:"Sign up with your email and password"}),Object(c.jsxs)("form",{className:"form",onSubmit:j,style:{display:"flex",flexDirection:"column",width:"30vw",margin:"0 auto",marginTop:"8vw",justifyContent:"space-around",height:"35vw",border:"1px solid grey",borderRadius:"1rem",padding:"3rem"},children:[Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{children:"Name"}),Object(c.jsx)("input",{type:"text",name:"name",placeholder:"firstname lastname",value:r.name,onChange:d,style:{width:"100%",letterSpacing:".2rem",height:"2rem",border:"none",borderBottom:"1px solid grey"}})]}),Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",placeholder:"email",value:r.email,onChange:d,style:{width:"100%",letterSpacing:".2rem",height:"2rem",border:"none",borderBottom:"1px solid grey"}})]}),Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{type:"text",name:"password",placeholder:"password",value:r.password,onChange:d,style:{width:"100%",letterSpacing:".3rem",height:"2rem",border:"none",borderBottom:"1px solid grey"}})]}),Object(c.jsx)("button",{children:"SIGN ME UP"})]})]})},v=n(38),y=n(17),S=n.n(y),w=(n(109),function(e){var t=e.address,n=e.images,a=e.id,r=Object(u.f)();console.log("PHOTO ",n);return Object(c.jsx)("div",{className:"property-card",children:Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("div",{className:"card-image",children:Object(c.jsx)("img",{src:n[0],alt:"property images"})}),Object(c.jsxs)("div",{className:"card-content",children:[Object(c.jsx)("h2",{className:"address",children:t.street}),Object(c.jsx)("h2",{className:"address",children:t.city}),Object(c.jsx)("h2",{className:"address",children:t.state}),Object(c.jsx)("button",{className:"btn",onClick:function(){var e=localStorage.getItem("accessToken")?"/properties/".concat(a):"/login?from=".concat(a);r.push(e)},children:"See details"})]})]})})}),N=(n(110),function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){return S.a.get("".concat("http://axn.herokuapp.com/","/properties")).then((function(e){console.log("RESPONSE DATA: ",e.data),r(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(c.jsx)("div",{className:"property-list",children:n.map((function(e){var t=e._id,n=Object(v.a)(e,["_id"]);return Object(c.jsx)(w,Object(s.a)(Object(s.a)({},n),{},{id:t}),t)}))})}),T=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Place your bids for timed for-sale-by-owner auctions to be the winning bidder"}),Object(c.jsx)(N,{})]})},k=n(37),E={street:"",city:"",state:"",zip:""},C=function(e){var t=Object(a.useState)(E),n=Object(l.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(""),d=Object(l.a)(o,2),u=d[0],j=d[1],b=Object(a.useState)("0"),m=Object(l.a)(b,2),x=m[0],f=m[1],g=Object(a.useState)((new Date).toJSON().slice(0,10)),v=Object(l.a)(g,2),y=v[0],w=v[1],N=Object(a.useState)([]),T=Object(l.a)(N,2),C=T[0],D=T[1],P=e.history,I=function(e){i(Object(s.a)(Object(s.a)({},r),{},Object(O.a)({},e.target.name,e.target.value)))},A=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,c,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("address",JSON.stringify(r)),n.append("description",JSON.stringify(u)),n.append("startPrice",JSON.stringify(x)),n.append("auctionEndTime",JSON.stringify(y)),C.forEach((function(e){return n.append("file[]",e,e.name)})),console.log(Object(k.a)(n.entries())),e.prev=8,e.next=11,S.a.post("".concat("http://axn.herokuapp.com/","/listproperty"),n,{headers:{"Content-Type":"multipart/form-data",Authorization:localStorage.getItem("accessToken")}});case 11:c=e.sent,console.log("RESPONSE FOR LISTPROPERTY: ",c),a=c.data._id,console.log("_ID HERE: ",a),P.push("properties/".concat(a)),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[8,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("form",{onSubmit:A,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"street",children:"Street"}),Object(c.jsx)("input",{type:"text",value:r.street,onChange:I,name:"street",id:"street",placeholder:"Enter street",required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"city",children:"City"}),Object(c.jsx)("input",{type:"text",value:r.city,onChange:I,name:"city",us:"city",placeholder:"Enter city",required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"state",children:"State"}),Object(c.jsx)("input",{type:"text",value:r.state,onChange:I,name:"state",id:"state",placeholder:"Enter state",required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"zip",children:"Zip"}),Object(c.jsx)("input",{type:"text",value:r.zip,onChange:I,name:"zip",id:"zip",placeholder:"Enter zip",required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"description",children:"Description "}),Object(c.jsx)("textarea",{value:u,onChange:function(e){j(e.target.value)},name:"description",id:"description",placeholder:"Enter description",required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"startPrice",children:"Start Price"}),Object(c.jsx)("input",{type:"number",value:x,onChange:function(e){f(e.target.value)},name:"startPrice",id:"startPrice",placeholder:"Enter start price for the auction",min:"0",required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"auctionEndTime",children:"Auction End Time"}),Object(c.jsx)("input",{type:"date",value:y,onChange:function(e){w(e.target.value)},name:"auctionEndTime",id:"auctionEndTime",min:(new Date).toJSON().slice(0,10),required:!0})]}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"file",multiple:!0,onChange:function(e){D(Array.from(e.target.files))},accept:"image/*"}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{children:"List My Property!"})]})},D=n(76),P=n.n(D),I=(n(120),n(77)),A=n.n(I),R=function(e){var t=e.pics;return console.log("PICS: ",t),Object(c.jsx)("div",{className:"property-pictures",children:Object(c.jsx)(A.a,{items:t.map((function(e){return{original:e,thumbnail:e}}))})})},B=(n(128),function(e){var t=Object(u.f)();return console.log(t),console.log("PROPS.PROPERTY AT OAI: ",e.property),Object(c.jsxs)("div",{className:"owner-auction-interface",children:[Object(c.jsx)("button",{onClick:function(){var n;return t.push({pathname:"".concat(t.location.pathname,"/bids"),state:null===(n=e.property)||void 0===n?void 0:n.auction.bids})},children:"See all bids"}),Object(c.jsx)("button",{className:"button-secondary",onClick:function(){return t.push({pathname:"".concat(t.location.pathname,"/edit")})},children:"Change listing terms"})]})}),F=Object(u.g)((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Click the image to see more pictures"}),Object(c.jsx)("button",{onClick:function(){return e.history.push({pathname:"".concat(e.history.location.pathname,"/makeabid"),state:e.bids})},children:"Make a bid"})]})})),H=n(36),U=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:6}).format(e)},J=(n(159),function(e){var t,n,r,i=e.match.params.id,o=Object(a.useState)(null),d=Object(l.a)(o,2),u=d[0],j=d[1],b=Object(a.useState)(!1),h=Object(l.a)(b,2),p=h[0],O=h[1],m=Object(a.useState)(!1),x=Object(l.a)(m,2),f=x[0],g=x[1],v=Object(a.useState)(0),y=Object(l.a)(v,2),w=y[0],N=y[1],T=Object(a.useCallback)((function(e){var t=JSON.parse(e);t.propertyOnSale===i&&j((function(e){return console.log("CURSTATE: ",e),Object(s.a)(Object(s.a)({},e),{},{auction:Object(s.a)(Object(s.a)({},e.auction),{},{currentHighestBid:t.currentHighestBid}),description:e.description})})),console.log(e),console.log("Socket connection established")}));Object(a.useEffect)((function(){var e=Object(H.io)("http://axn.herokuapp.com/",{transports:["websocket"]});return e.on("bid",T),S.a.get("".concat("http://axn.herokuapp.com/","/properties/").concat(i),{headers:{Authorization:localStorage.getItem("accessToken")}}).then((function(e){j(e.data),O(localStorage.getItem("userId")===e.data.owner),console.log("DATA: ",e.data);var t=new Date(e.data.auction.auctionEndTime).getTime();console.log("ENDDATE: ",t);var n=(new Date).getTime();console.log("NOW: ",n);var c=function(e){var t=864e5,n=36e5,c=Math.floor(e/t),a=Math.floor((e-c*t)/n),r=Math.round((e-c*t-a*n)/6e4),i=function(e){return e<10?"0"+e:e};return 60===r&&(a++,r=0),24===a&&(c++,a=0),"".concat(c," days ").concat(i(a)," hours and ").concat(i(r)," minutes")}(t-n);N(c)})).catch((function(e){return console.log(e)})),function(){return e.disconnect()}}),[]);return Object(c.jsx)("div",{className:"auction-page",children:u&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"".concat(null===(t=u.address)||void 0===t?void 0:t.street,", ").concat(null===(n=u.address)||void 0===n?void 0:n.city,", ").concat(null===(r=u.address)||void 0===r?void 0:r.state)}),Object(c.jsx)("div",{className:"description",children:'"'.concat(u.description,'"')})]}),Object(c.jsxs)("section",{className:"picture-and-auction-info",children:[Object(c.jsx)("div",{className:"one-picture",onClick:function(){g(!0)},children:Object(c.jsx)("img",{src:u.images[0]})}),Object(c.jsxs)("div",{className:"auction-info",children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("h2",{children:["Current Highest Bid:"," ",U(u.auction.currentHighestBid)]}),"Auction Ends in ",w]}),Object(c.jsx)("div",{className:"by-user-type-interface",children:p?Object(c.jsx)(B,{property:u}):Object(c.jsx)(F,{address:u.address,bids:u.auction.bids})})]})]}),Object(c.jsxs)(P.a,{style:{overlay:{position:"fixed",height:"660px",width:"680px",top:80,left:80,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},isOpen:f,contentLabel:"Example Modal",children:[Object(c.jsx)("button",{onClick:function(){return g(!1)},children:"Close Modal"}),Object(c.jsx)(R,{pics:u.images})]})]})})}),M=(n(160),function(e){var t=e.auction,n=Object(u.f)(),a=t.bids[0].purchasePrice,r=t.currentHighestBid,i=t.propertyOnSale,o=i.address,s=i.images,l=i._id;return Object(c.jsxs)("div",{onClick:function(){n.push({pathname:"/properties/".concat(l,"/makeabid"),state:t.bids})},className:"bid-card",children:[Object(c.jsx)("div",{className:"property-image",children:Object(c.jsx)("img",{src:s[0],alt:"property picture"})}),Object(c.jsx)("div",{children:"".concat(o.street,", ").concat(o.city," ").concat(o.state)}),Object(c.jsxs)("div",{className:"current-highest-bid",children:["CURRENT HIGHEST BID: ",U(r)," "]}),Object(c.jsxs)("div",{className:a===r?"green":"red",children:["YOUR BID: ",U(a)]})]})}),L=n(78),_=n.n(L),q=(n(161),function(e){var t,n,r=Object(a.useState)(null),i=Object(l.a)(r,2),o=i[0],d=i[1],u=o&&o.name||"Name missing..";return Object(a.useEffect)((function(){var e=Object(H.io)("http://axn.herokuapp.com/",{transports:["websocket"]});e.on("bid",(function(e){var t=JSON.parse(e);console.log("USER: ",o),d((function(e){return Object(s.a)(Object(s.a)({},e),{},{auctions:e.auctions.map((function(e){return e._id===t._id?Object(s.a)(Object(s.a)({},e),{},{currentHighestBid:t.currentHighestBid}):e}))})})),console.log("AUCTION: ",t),console.log("Socket connection established")}));var t=localStorage.getItem("accessToken");return console.log("ACCESS TKN",t),function(){var e=Object(p.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://axn.herokuapp.com/","/me"),{method:"GET",mode:"cors",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 2:n=e.sent,console.log("USERINFO at Proifle Component after making get request call:",n),n?d(n):console.log("No user info found");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t),console.log("inside of UseEffect: "),function(){return e.disconnect()}}),[]),console.log("outside of UseEffect: "),Object(c.jsxs)("div",{children:[Object(c.jsxs)("h2",{children:["Good day, ",u]}),Object(c.jsx)("h2",{children:"My Properties "}),Object(c.jsx)("div",{className:"my-properties",children:o&&(null===(t=o.properties)||void 0===t?void 0:t.map((function(e){var t=e._id,n=Object(v.a)(e,["_id"]);return Object(c.jsx)(w,Object(s.a)(Object(s.a)({},n),{},{id:t}),t)})))}),Object(c.jsx)("h2",{style:{marginTop:20},children:"My Bids "}),Object(c.jsxs)("h4",{children:[" ",Object(c.jsx)("span",{style:{color:"green"},children:"Green"})," if your bid price is the highest bid at the moment.",Object(c.jsx)("span",{style:{color:"red"},children:" Red"})," if there is a higher bid price from another buyer"]}),Object(c.jsxs)("h4",{children:["Click on the card to adjust your bid terms",Object(c.jsx)(_.a,{className:"arrow-downward"})]}),o&&(null===(n=o.auctions)||void 0===n?void 0:n.map((function(e){return Object(c.jsx)(M,{auction:e},e._id)})))]})}),z=n(49),G=(n(167),function(e){var t=e.columns,n=e.data,a=Object(z.useTable)({columns:t,data:n,initialState:{sortBy:[{id:"purchasePrice",desc:!0}]}},z.useSortBy),r=a.getTableProps,i=a.getTableBodyProps,o=a.headerGroups,l=a.rows,d=a.prepareRow,u=function(e){return e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""};return Object(c.jsxs)("table",Object(s.a)(Object(s.a)({className:"table-container"},r()),{},{children:[Object(c.jsx)("thead",{children:o.map((function(e){return Object(c.jsx)("tr",Object(s.a)(Object(s.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(c.jsxs)("th",Object(s.a)(Object(s.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),u(e)]}))}))}))}))}),Object(c.jsx)("tbody",Object(s.a)(Object(s.a)({},i()),{},{children:l.map((function(e){return d(e),Object(c.jsx)("tr",Object(s.a)(Object(s.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(c.jsx)("td",Object(s.a)(Object(s.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}),Y=(n(168),function(e){var t=Object(a.useMemo)((function(){return[{Header:"Bid Price",accessor:"purchasePrice"},{Header:"Deposit",accessor:"deposit"},{Header:"DD days",accessor:"dueDiligence"},{Header:"Closing Date",accessor:"closingDate"},{Header:"Submitted on",accessor:"createdAt"}]}),[]),n=function(e){return new Intl.DateTimeFormat("en-US").format(new Date(e))};console.log("PROPSSS: ",e);var r=e.location.state.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{closingDate:n(e.closingDate),createdAt:n(e.createdAt),purchasePrice:U(e.purchasePrice),deposit:U(e.deposit)})}));return Object(c.jsxs)("div",{className:"by-property-bids",children:[Object(c.jsx)("div",{className:"bids-title",children:"< All ".concat(e.location.state.length," Bids You Have Received To Date >")}),Object(c.jsx)(G,{columns:t,data:r})]})}),W=function(e){var t=Object(l.a)(e.location.state,1)[0],n={purchasePrice:(null===t||void 0===t?void 0:t.purchasePrice)||0,deposit:(null===t||void 0===t?void 0:t.deposit)||0,dueDiligence:(null===t||void 0===t?void 0:t.dueDiligence)||0,closingDate:new Date((null===t||void 0===t?void 0:t.closingDate)||Date.now()).toJSON().slice(0,10)},r=Object(a.useState)(n),i=Object(l.a)(r,2),o=i[0],d=i[1],u=e.history,j=function(e){var t=e.target,n=t.name,c=t.value;d((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(O.a)({},n,c))}))},b=function(){var t=Object(p.a)(h.a.mark((function t(c){var a,r,i,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),a=e.match.params.id,t.next=4,fetch("".concat("http://axn.herokuapp.com/","/properties/").concat(a,"/bid"),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("accessToken")},body:JSON.stringify(o)});case 4:if(r=t.sent,d(n),r.ok){t.next=13;break}return t.next=9,r.text();case 9:i=t.sent,alert(i),t.next=18;break;case 13:return t.next=15,r.json();case 15:s=t.sent,console.log(s),u.push("/properties/".concat(a));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Make a bid"}),Object(c.jsxs)("form",{className:"form",onSubmit:b,children:[Object(c.jsx)("div",{children:Object(c.jsxs)("label",{children:["Purchase Price",Object(c.jsx)("input",{type:"number",name:"purchasePrice",placeholder:"Put in your purchase price",value:o.purchasePrice,onChange:j})]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("label",{children:["Deposit",Object(c.jsx)("input",{type:"number",name:"deposit",placeholder:"Put in deposit amount you will put up",value:o.deposit,onChange:j,style:{width:"100%",letterSpacing:".2rem",height:"2rem",border:"none",borderBottom:"1px solid grey"}})]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("label",{children:["Due Diligence",Object(c.jsx)("input",{type:"number",name:"dueDiligence",placeholder:"Number of due diligence days",value:o.dueDiligence,onChange:j,style:{width:"100%",letterSpacing:".2rem",height:"2rem",border:"none",borderBottom:"1px solid grey"}})]})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:"Closing Date"}),Object(c.jsx)("input",{type:"date",name:"closingDate",value:o.closingDate,onChange:j,style:{width:"100%",letterSpacing:".3rem",height:"2rem",border:"none",borderBottom:"1px solid grey"}})]}),Object(c.jsx)("button",{children:"Place my bid!"})]})]})},K=function(e){return Object(c.jsxs)(c.Fragment,{children:[localStorage.removeItem("accessToken"),localStorage.removeItem("userId"),e.handleAuth(!1),e.history.push("/")]})},V=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"HOW IT WORKS"}),Object(c.jsx)("li",{children:'This is a For-Sale-By-Owner("FSBO") website.'}),Object(c.jsx)("li",{children:"Owner lists and makes the property available for interested buyers to submit purchase offers."}),Object(c.jsx)("li",{children:"Buyer submits his/her offer. "}),Object(c.jsx)("li",{children:"If owner chooses the bidder the owner and buyer can move to put the house under contract."}),Object(c.jsx)("h3",{children:"DISCLAIMER"}),Object(c.jsx)("p",{children:'There is no agent involved and all transactons are undertaken directly by the owner and the buyer at their own risk. Auxion provides the platform to facilitate such transactions and the transaction parties expressly warrant that they keep Auxion indemnified of any responsiblity. The party that lists property(properties, hereinafter collectively "property") causes the property to be available for any interested potential buyers to view them on this website and by such listing action expressly warrantes that the owner enters into a real estate auction where he/she will accpet bids from interested buyers.'})]})},Z=(n(169),"http://axn.herokuapp.com/"),Q=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(""),s=Object(l.a)(o,2),d=s[0],u=s[1],j=Object(a.useState)(!0),b=Object(l.a)(j,2),O=b[0],m=b[1],x=Object(a.useState)([]),f=Object(l.a)(x,2),g=f[0],v=f[1],y=Object(a.useState)((new Date).toJSON().slice(0,10)),w=Object(l.a)(y,2),N=w[0],T=w[1],E=e.match.params.id,C=e.history;console.log("HISTORY AT EDIT: ",C),Object(a.useEffect)((function(){S.a.get("".concat(Z,"/properties/").concat(E),{headers:{Authorization:localStorage.getItem("accessToken")}}).then((function(e){P(e.data),console.log("DATA FROM EDIT COMP: ",e.data)})).catch((function(e){return console.log(e)}))}),[]);var D=function(e){console.log("VALUE :",e.target.value),m(JSON.parse(e.target.value))},P=function(e){i(e),u(e.description),m(e.available),T(e.auction.auctionEndTime.slice(0,10))},I=function(){var t=Object(p.a)(h.a.mark((function t(n){var c,a,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),(c=new FormData).append("description",JSON.stringify(d)),c.append("available",JSON.stringify(O)),c.append("auctionEndTime",JSON.stringify(N)),g.forEach((function(e){return c.append("file[]",e,e.name)})),console.log(Object(k.a)(c.entries())),t.prev=7,t.next=10,S.a.patch("".concat(Z,"/properties/").concat(e.match.params.id,"/edit"),c,{headers:{"Content-Type":"multipart/form-data",Authorization:localStorage.getItem("accessToken")}});case 10:a=t.sent,console.log("RESPONSE FOR EDITPROPERTY: ",a),r=a.data._id,console.log("_ID HERE: ",r),C.push("/properties/".concat(r)),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[7,17]])})));return function(e){return t.apply(this,arguments)}}();return console.log("AVAIL",O),Object(c.jsx)(c.Fragment,{children:r&&Object(c.jsxs)("form",{onSubmit:I,children:[Object(c.jsxs)("div",{className:"available",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"available-radio",children:"Available"}),Object(c.jsx)("input",{id:"available-radio",value:!0,checked:O,onChange:D,type:"radio"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"unavailable-radio",children:"Unavailable"}),Object(c.jsx)("input",{id:"available-radio",value:!1,checked:!O,onChange:D,type:"radio"})]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"description",children:"Description "}),Object(c.jsx)("textarea",{value:d,onChange:function(e){u(e.target.value)},name:"description",id:"description",placeholder:"Enter description",required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"auctionEndTime",children:"Auction End Time"}),Object(c.jsx)("input",{type:"date",value:N,onChange:function(e){T(e.target.value)},name:"auctionEndTime",id:"auctionEndTime",min:(new Date).toJSON().slice(0,10),required:!0})]}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{type:"file",multiple:!0,onChange:function(e){v(Array.from(e.target.files))},accept:"image/*"})}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{children:"Submit my edits"})]})})};var X=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){r(!!localStorage.getItem("accessToken"))}),[]);var i=function(e){r(e)};return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(d.a,{children:[Object(c.jsx)(j,{isAuthenticated:n}),Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{exact:!0,path:"/login",render:function(e){return Object(c.jsx)(x,Object(s.a)(Object(s.a)({},e),{},{handleAuth:i}))}}),Object(c.jsx)(u.a,{exact:!0,path:"/register",render:function(e){return Object(c.jsx)(g,Object(s.a)(Object(s.a)({},e),{},{handleAuth:i}))}}),Object(c.jsx)(u.a,{exact:!0,path:"/",component:T}),Object(c.jsx)(u.a,{exact:!0,path:"/profile",component:q}),Object(c.jsx)(u.a,{exact:!0,path:"/listproperty",component:C}),Object(c.jsx)(u.a,{exact:!0,path:"/about",component:V}),Object(c.jsx)(u.a,{exact:!0,path:"/properties/:id",component:J}),Object(c.jsx)(u.a,{exact:!0,path:"/properties/:id/bids",component:Y}),Object(c.jsx)(u.a,{exact:!0,path:"/properties/:id/makeabid",component:W}),Object(c.jsx)(u.a,{exact:!0,path:"/properties/:id/edit",component:Q}),Object(c.jsx)(u.a,{exact:!0,path:"/logout",render:function(e){return Object(c.jsx)(K,Object(s.a)(Object(s.a)({},e),{},{handleAuth:i}))}})]})]})})};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(X,{})}),document.getElementById("root"))},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){}},[[171,1,2]]]);
//# sourceMappingURL=main.3c872cdd.chunk.js.map